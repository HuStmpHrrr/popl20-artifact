<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="assets/resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="assets/resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="assets/resources/config.js"></script>
<script type="text/javascript" src="assets/resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../index.html"> Home </a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Definitions</h1>

<div class="code">

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">StdSetup</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1"></a><h1 class="section">Abstract Syntax</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="avar"><span class="id" title="inductive">avar</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
| <a name="avar_b"><span class="id" title="constructor">avar_b</span></a> : <span class="id" title="inductive">nat</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a><br/>
| <a name="avar_f"><span class="id" title="constructor">avar_f</span></a> : <span class="id" title="abbreviation">var</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a>.<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="EqAvar"><span class="id" title="instance">EqAvar</span></a> : <span class="id" title="class">EqDec_eq</span> <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> := { }.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">decide</span> <span class="id" title="var">equality</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Nat.eq_dec</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fv_values"><span class="id" title="definition">fv_values</span></a> {<span class="id" title="var">T</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="abbreviation">atoms</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l</span> : <span class="id" title="inductive">list</span> (<span class="id" title="abbreviation">atom</span> <span class="id" title="notation">*</span> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a>)) : <span class="id" title="abbreviation">atoms</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">fold_right</span> (<span class="id" title="keyword">fun</span> (<span class="id" title="var">b</span> : (<span class="id" title="abbreviation">atom</span> <span class="id" title="notation">*</span> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a>)) <span class="id" title="var">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="keyword">let</span> (<span class="id" title="var">_</span>, <span class="id" title="var">t</span>) := <a class="idref" href="Definitions.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="Definitions.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Definitions.html#t"><span class="id" title="variable">t</span></a>) <span class="id" title="notation">{}</span> <a class="idref" href="Definitions.html#l"><span class="id" title="variable">l</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fv_unpack"><span class="id" title="lemma">fv_unpack</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">T</span> (<span class="id" title="var">f</span> : <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="var">_</span>) <span class="id" title="var">e1</span> <span class="id" title="var">e2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#fv_values"><span class="id" title="definition">fv_values</span></a> <a class="idref" href="Definitions.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Definitions.html#e1"><span class="id" title="variable">e1</span></a> <span class="id" title="notation">++</span> <a class="idref" href="Definitions.html#e2"><span class="id" title="variable">e2</span></a>) <span class="id" title="notation">[=]</span> <a class="idref" href="Definitions.html#fv_values"><span class="id" title="definition">fv_values</span></a> <a class="idref" href="Definitions.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Definitions.html#e1"><span class="id" title="variable">e1</span></a> <span class="id" title="notation">`</span><span class="id" title="notation">union</span><span class="id" title="notation">`</span> <a class="idref" href="Definitions.html#fv_values"><span class="id" title="definition">fv_values</span></a> <a class="idref" href="Definitions.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Definitions.html#e2"><span class="id" title="variable">e2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">on</span> <span class="id" title="inductive">list</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">set</span> <span class="id" title="tactic">solve</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">routine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHlist</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHlist</span>. <span class="id" title="var">fsetdec</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Rewrite</span> -&gt; <span class="id" title="lemma">dom_app</span> <a class="idref" href="Definitions.html#fv_unpack"><span class="id" title="lemma">fv_unpack</span></a> : <span class="id" title="var">meta_ext</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab2"></a><h2 class="section">Types</h2>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">typ_top</span></span> represents the <span class="inlinecode">⊤</span> type.

</li>
<li> <span class="inlinecode"><span class="id" title="var">typ_var</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> represents a type variable <span class="inlinecode"><span class="id" title="var">X</span></span>.

</li>
<li> <span class="inlinecode"><span class="id" title="var">typ_fun</span></span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode"><span class="id" title="var">U</span></span> represents a function type (S ⟶ U)

</li>
<li> <span class="inlinecode"><span class="id" title="var">typ_all</span></span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode"><span class="id" title="var">U</span></span> represents a universal type <span class="inlinecode">∀</span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode">.</span> <span class="inlinecode"><span class="id" title="var">U</span></span>.

</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="typ"><span class="id" title="inductive">typ</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
| <a name="typ_top"><span class="id" title="constructor">typ_top</span></a> : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a><br/>
| <a name="typ_var"><span class="id" title="constructor">typ_var</span></a> : <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a><br/>
| <a name="typ_fun"><span class="id" title="constructor">typ_fun</span></a> : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="comment">(*&nbsp;trm&nbsp;functions&nbsp;*)</span><br/>
| <a name="typ_all"><span class="id" title="constructor">typ_all</span></a> : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a>. <span class="comment">(*&nbsp;typ&nbsp;functions&nbsp;\&nbsp;universal&nbsp;types&nbsp;*)</span><br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab3"></a><h1 class="section">Basic Characteristics</h1>


<div class="paragraph"> </div>

    Here we define some basic characteristics of the abstract syntax, including local
 closure, the opening, closing and substitution operations, and the retrieval of free
 variables of variables, types, terms and values.

<div class="paragraph"> </div>

 This library uses a number of type classes to capture these characteristics,
 including <span class="inlinecode"><span class="id" title="var">LC</span></span>, <span class="inlinecode"><span class="id" title="var">CanOpen</span></span>, <span class="inlinecode"><span class="id" title="var">CanClose</span></span> and <span class="inlinecode"><span class="id" title="var">HasFv</span></span>. Thus, each characteristic can be
 represented by one single predicate.  
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="lc_avar_at"><span class="id" title="inductive">lc_avar_at</span></a> : <span class="id" title="inductive">nat</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="lc_ab"><span class="id" title="constructor">lc_ab</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">n</span> <span class="id" title="var">m</span>}, <a class="idref" href="Definitions.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="Definitions.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#lc_avar_at"><span class="id" title="inductive">lc_avar_at</span></a> <a class="idref" href="Definitions.html#m"><span class="id" title="variable">m</span></a> (<a class="idref" href="Definitions.html#avar_b"><span class="id" title="constructor">avar_b</span></a> <a class="idref" href="Definitions.html#n"><span class="id" title="variable">n</span></a>)<br/>
| <a name="lc_af"><span class="id" title="constructor">lc_af</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">n</span> <span class="id" title="var">x</span>}, <a class="idref" href="Definitions.html#lc_avar_at"><span class="id" title="inductive">lc_avar_at</span></a> <a class="idref" href="Definitions.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>).<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="LcTvar"><span class="id" title="instance">LcTvar</span></a> : <span class="id" title="class">LC</span> <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> := { <span class="id" title="method">lc_at</span> := <a class="idref" href="Definitions.html#lc_avar_at"><span class="id" title="inductive">lc_avar_at</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="lc_typ_at"><span class="id" title="inductive">lc_typ_at</span></a> : <span class="id" title="inductive">nat</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="lc_typ_top"><span class="id" title="constructor">lc_typ_top</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">n</span>}, <a class="idref" href="Definitions.html#lc_typ_at"><span class="id" title="inductive">lc_typ_at</span></a> <a class="idref" href="Definitions.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a><br/>
| <a name="lc_typ_var"><span class="id" title="constructor">lc_typ_var</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">n</span> <span class="id" title="var">X</span>}, <span class="id" title="method">lc_at</span> <a class="idref" href="Definitions.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Definitions.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#lc_typ_at"><span class="id" title="inductive">lc_typ_at</span></a> <a class="idref" href="Definitions.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="Definitions.html#typ_var"><span class="id" title="constructor">typ_var</span></a> <a class="idref" href="Definitions.html#X"><span class="id" title="variable">X</span></a>)<br/>
<br/>
| <a name="lc_typ_fun"><span class="id" title="constructor">lc_typ_fun</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">n</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>}, <a class="idref" href="Definitions.html#lc_typ_at"><span class="id" title="inductive">lc_typ_at</span></a> <a class="idref" href="Definitions.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#lc_typ_at"><span class="id" title="inductive">lc_typ_at</span></a> <a class="idref" href="Definitions.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#lc_typ_at"><span class="id" title="inductive">lc_typ_at</span></a> <a class="idref" href="Definitions.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="Definitions.html#typ_fun"><span class="id" title="constructor">typ_fun</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a>)<br/>
| <a name="lc_typ_all"><span class="id" title="constructor">lc_typ_all</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">n</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>}, <a class="idref" href="Definitions.html#lc_typ_at"><span class="id" title="inductive">lc_typ_at</span></a> <a class="idref" href="Definitions.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#lc_typ_at"><span class="id" title="inductive">lc_typ_at</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="Definitions.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#lc_typ_at"><span class="id" title="inductive">lc_typ_at</span></a> <a class="idref" href="Definitions.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a>).<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="LcFtyp"><span class="id" title="instance">LcFtyp</span></a> : <span class="id" title="class">LC</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> := { <span class="id" title="method">lc_at</span> := <a class="idref" href="Definitions.html#lc_typ_at"><span class="id" title="inductive">lc_typ_at</span></a> }.<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="Definitions.html#lc_avar_at"><span class="id" title="inductive">lc_avar_at</span></a> <a class="idref" href="Definitions.html#lc_typ_at"><span class="id" title="inductive">lc_typ_at</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="open_rec_tvar"><span class="id" title="definition">open_rec_tvar</span></a> (<span class="id" title="var">k</span> : <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span> : <span class="id" title="abbreviation">var</span>) (<span class="id" title="var">a</span> : <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a>) : <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#avar_b"><span class="id" title="constructor">avar_b</span></a> <span class="id" title="var">i</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">==</span> <span class="id" title="var">i</span> <span class="id" title="keyword">then</span> <a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Definitions.html#avar_b"><span class="id" title="constructor">avar_b</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> (<span class="id" title="var">k</span> : <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span> : <span class="id" title="abbreviation">var</span>) (<span class="id" title="var">T</span> : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a>) : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a> =&gt; <a class="idref" href="Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_var"><span class="id" title="constructor">typ_var</span></a> <span class="id" title="var">X</span> =&gt; <a class="idref" href="Definitions.html#typ_var"><span class="id" title="constructor">typ_var</span></a> (<a class="idref" href="Definitions.html#open_rec_tvar"><span class="id" title="definition">open_rec_tvar</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_fun"><span class="id" title="constructor">typ_fun</span></a> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="Definitions.html#typ_fun"><span class="id" title="constructor">typ_fun</span></a> (<a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a>) (<a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">U</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> (<a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a>) <span class="id" title="notation">$</span> <a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">U</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="OpenTvar"><span class="id" title="instance">OpenTvar</span></a> : <span class="id" title="class">CanOpen</span> <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> := { <span class="id" title="method">open_rec</span> := <a class="idref" href="Definitions.html#open_rec_tvar"><span class="id" title="definition">open_rec_tvar</span></a> }.<br/>
<span class="id" title="keyword">Instance</span> <a name="OpenTyp"><span class="id" title="instance">OpenTyp</span></a> : <span class="id" title="class">CanOpen</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> := { <span class="id" title="method">open_rec</span> := <a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="close_rec_tvar"><span class="id" title="definition">close_rec_tvar</span></a> (<span class="id" title="var">k</span> : <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span> : <span class="id" title="abbreviation">var</span>) (<span class="id" title="var">a</span> : <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a>) : <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Definitions.html#avar_b"><span class="id" title="constructor">avar_b</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="Definitions.html#avar_b"><span class="id" title="constructor">avar_b</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">x</span> =&gt; <span class="id" title="keyword">if</span> <span class="id" title="var">x</span> <span class="id" title="notation">==</span> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Definitions.html#avar_b"><span class="id" title="constructor">avar_b</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="close_rec_typ"><span class="id" title="definition">close_rec_typ</span></a> (<span class="id" title="var">k</span> : <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span> : <span class="id" title="abbreviation">var</span>) (<span class="id" title="var">T</span> : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a>) : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a> =&gt; <a class="idref" href="Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_var"><span class="id" title="constructor">typ_var</span></a> <span class="id" title="var">X</span> =&gt; <a class="idref" href="Definitions.html#typ_var"><span class="id" title="constructor">typ_var</span></a> (<a class="idref" href="Definitions.html#close_rec_tvar"><span class="id" title="definition">close_rec_tvar</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_fun"><span class="id" title="constructor">typ_fun</span></a> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="Definitions.html#typ_fun"><span class="id" title="constructor">typ_fun</span></a> (<a class="idref" href="Definitions.html#close_rec_typ"><span class="id" title="definition">close_rec_typ</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a>) (<a class="idref" href="Definitions.html#close_rec_typ"><span class="id" title="definition">close_rec_typ</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">U</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> (<a class="idref" href="Definitions.html#close_rec_typ"><span class="id" title="definition">close_rec_typ</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a>) <span class="id" title="notation">$</span> <a class="idref" href="Definitions.html#close_rec_typ"><span class="id" title="definition">close_rec_typ</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">U</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="CloseTvar"><span class="id" title="instance">CloseTvar</span></a> : <span class="id" title="class">CanClose</span> <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> := { <span class="id" title="method">close_rec</span> := <a class="idref" href="Definitions.html#close_rec_tvar"><span class="id" title="definition">close_rec_tvar</span></a> }.<br/>
<span class="id" title="keyword">Instance</span> <a name="CloseTyp"><span class="id" title="instance">CloseTyp</span></a> : <span class="id" title="class">CanClose</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> := { <span class="id" title="method">close_rec</span> := <a class="idref" href="Definitions.html#close_rec_typ"><span class="id" title="definition">close_rec_typ</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="subst_tvar"><span class="id" title="definition">subst_tvar</span></a> (<span class="id" title="var">z</span> <span class="id" title="var">u</span>: <span class="id" title="abbreviation">var</span>) (<span class="id" title="var">a</span> : <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a>) : <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#avar_b"><span class="id" title="constructor">avar_b</span></a> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="Definitions.html#a"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="notation">$</span> <span class="id" title="keyword">if</span> <span class="id" title="var">x</span> <span class="id" title="notation">==</span> <a class="idref" href="Definitions.html#z"><span class="id" title="variable">z</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">else</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="subst_typ"><span class="id" title="definition">subst_typ</span></a> (<span class="id" title="var">z</span> <span class="id" title="var">u</span>: <span class="id" title="abbreviation">var</span>) (<span class="id" title="var">T</span> : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a>) : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> := <br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a> =&gt; <a class="idref" href="Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_var"><span class="id" title="constructor">typ_var</span></a> <span class="id" title="var">X</span> =&gt; <a class="idref" href="Definitions.html#typ_var"><span class="id" title="constructor">typ_var</span></a> (<a class="idref" href="Definitions.html#subst_tvar"><span class="id" title="definition">subst_tvar</span></a> <a class="idref" href="Definitions.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_fun"><span class="id" title="constructor">typ_fun</span></a> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="Definitions.html#typ_fun"><span class="id" title="constructor">typ_fun</span></a> (<a class="idref" href="Definitions.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="Definitions.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a>) (<a class="idref" href="Definitions.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="Definitions.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">U</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> (<a class="idref" href="Definitions.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="Definitions.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a>) <span class="id" title="notation">$</span> <a class="idref" href="Definitions.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="Definitions.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a>  <span class="id" title="var">U</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="SubstTvar"><span class="id" title="instance">SubstTvar</span></a> : <span class="id" title="class">CanSubst</span> <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> := { <span class="id" title="method">substi</span> := <a class="idref" href="Definitions.html#subst_tvar"><span class="id" title="definition">subst_tvar</span></a> }.<br/>
<span class="id" title="keyword">Instance</span> <a name="SubstTyp"><span class="id" title="instance">SubstTyp</span></a> : <span class="id" title="class">CanSubst</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> := { <span class="id" title="method">substi</span> := <a class="idref" href="Definitions.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="env"><span class="id" title="abbreviation">env</span></a> := (<span class="id" title="inductive">list</span> (<span class="id" title="abbreviation">var</span> <span class="id" title="notation">*</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fv_avar"><span class="id" title="definition">fv_avar</span></a> (<span class="id" title="var">v</span> : <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a>) : <span class="id" title="abbreviation">vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#avar_b"><span class="id" title="constructor">avar_b</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">{}</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">x</span> =&gt; <span class="id" title="notation">{{</span> <span class="id" title="var">x</span> <span class="id" title="notation">}}</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="fv_typ"><span class="id" title="definition">fv_typ</span></a> (<span class="id" title="var">T</span> : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a>) : <span class="id" title="abbreviation">vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a> =&gt; <span class="id" title="abbreviation">empty</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_var"><span class="id" title="constructor">typ_var</span></a> <span class="id" title="var">X</span> =&gt; <a class="idref" href="Definitions.html#fv_avar"><span class="id" title="definition">fv_avar</span></a> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_fun"><span class="id" title="constructor">typ_fun</span></a> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">U</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">U</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="FvTvar"><span class="id" title="instance">FvTvar</span></a> : <span class="id" title="class">HasFv</span> <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> := { <span class="id" title="method">fv</span> := <a class="idref" href="Definitions.html#fv_avar"><span class="id" title="definition">fv_avar</span></a> }.<br/>
<span class="id" title="keyword">Instance</span> <a name="FvTyp"><span class="id" title="instance">FvTyp</span></a> : <span class="id" title="class">HasFv</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> := { <span class="id" title="method">fv</span> := <a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> }.<br/>
<span class="id" title="keyword">Instance</span> <a name="FvEnv"><span class="id" title="instance">FvEnv</span></a> : <span class="id" title="class">HasFv</span> <a class="idref" href="Definitions.html#env"><span class="id" title="abbreviation">env</span></a> := { <span class="id" title="method">fv</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> =&gt; <span class="id" title="definition">dom</span> <a class="idref" href="Definitions.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="notation">`</span><span class="id" title="notation">union</span><span class="id" title="notation">`</span> <a class="idref" href="Definitions.html#fv_values"><span class="id" title="definition">fv_values</span></a> <span class="id" title="method">fv</span> <a class="idref" href="Definitions.html#e"><span class="id" title="variable">e</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fv_union"><span class="id" title="lemma">fv_union</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">e1</span> <span class="id" title="var">e2</span> : <a class="idref" href="Definitions.html#env"><span class="id" title="abbreviation">env</span></a>) , <span class="id" title="method">fv</span> (<a class="idref" href="Definitions.html#e1"><span class="id" title="variable">e1</span></a> <span class="id" title="notation">++</span> <a class="idref" href="Definitions.html#e2"><span class="id" title="variable">e2</span></a>) <span class="id" title="notation">[=]</span> <span class="id" title="method">fv</span> <a class="idref" href="Definitions.html#e1"><span class="id" title="variable">e1</span></a> <span class="id" title="notation">`</span><span class="id" title="notation">union</span><span class="id" title="notation">`</span> <span class="id" title="method">fv</span> <a class="idref" href="Definitions.html#e2"><span class="id" title="variable">e2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">AtomSetProperties.subset_antisym</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="tactic">solve</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Rewrite</span> -&gt; <a class="idref" href="Definitions.html#fv_union"><span class="id" title="lemma">fv_union</span></a> : <span class="id" title="var">meta_ext</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">gather_atoms</span> ::=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">A</span> := <span class="id" title="var">gather_atoms_with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="abbreviation">atoms</span> =&gt; <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">B</span> := <span class="id" title="var">gather_atoms_with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="abbreviation">atom</span> =&gt; <span class="id" title="abbreviation">singleton</span> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">C</span> := <span class="id" title="var">gather_atoms_with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <a class="idref" href="Definitions.html#env"><span class="id" title="abbreviation">env</span></a> =&gt; <span class="id" title="method">fv</span> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">D</span> := <span class="id" title="var">gather_atoms_with</span> <span class="id" title="var">fv_avar</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">E</span> := <span class="id" title="var">gather_atoms_with</span> <span class="id" title="var">fv_typ</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<span class="id" title="var">A</span> <span class="id" title="notation">`</span><span class="id" title="notation">union</span><span class="id" title="notation">`</span> <span class="id" title="var">B</span> <span class="id" title="notation">`</span><span class="id" title="notation">union</span><span class="id" title="notation">`</span> <span class="id" title="var">C</span> <span class="id" title="notation">`</span><span class="id" title="notation">union</span><span class="id" title="notation">`</span> <span class="id" title="var">D</span> <span class="id" title="notation">`</span><span class="id" title="notation">union</span><span class="id" title="notation">`</span> <span class="id" title="var">E</span>).<br/>

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot;G ⊢F S &lt;⦂ U" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 90).<br/>
<span class="id" title="keyword">Inductive</span> <a name="subty"><span class="id" title="inductive">subty</span></a> : <a class="idref" href="Definitions.html#env"><span class="id" title="abbreviation">env</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="keyword">Prop</span> :=<br/>
</div>

<div class="doc">
<span class="inlinecode">――――――――――</span> F-Top <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode">⊤</span>  
</div>
<div class="code">
| <a name="st_top"><span class="id" title="constructor">st_top</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">G</span> : <a class="idref" href="Definitions.html#env"><span class="id" title="abbreviation">env</span></a>) (<span class="id" title="var">T</span> : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">⊢</span></a><a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">F</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation"><:</span></a> <a class="idref" href="Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a><br/>
</div>

<div class="doc">
<span class="inlinecode">――――――――――</span> F-VarRefl <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">X</span></span>  
</div>
<div class="code">
| <a name="st_vrefl"><span class="id" title="constructor">st_vrefl</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">G</span> : <a class="idref" href="Definitions.html#env"><span class="id" title="abbreviation">env</span></a>) (<span class="id" title="var">X</span> : <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">⊢</span></a><a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">F</span></a> <a class="idref" href="Definitions.html#typ_var"><span class="id" title="constructor">typ_var</span></a> <a class="idref" href="Definitions.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation"><:</span></a> <a class="idref" href="Definitions.html#typ_var"><span class="id" title="constructor">typ_var</span></a> <a class="idref" href="Definitions.html#X"><span class="id" title="variable">X</span></a><br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">∈</span> <span class="inlinecode"><span class="id" title="var">G</span></span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">U</span></span> <br>
    <span class="inlinecode">――――――――――</span> F-Tvar' <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">U</span></span>  
</div>
<div class="code">
| <a name="st_bind"><span class="id" title="constructor">st_bind</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">G</span> : <a class="idref" href="Definitions.html#env"><span class="id" title="abbreviation">env</span></a>) (<span class="id" title="var">x</span> : <span class="id" title="abbreviation">atom</span>) (<span class="id" title="var">T</span> <span class="id" title="var">U</span> : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">binds</span> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">⊢</span></a><a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">F</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation"><:</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">⊢</span></a><a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">F</span></a> <a class="idref" href="Definitions.html#typ_var"><span class="id" title="constructor">typ_var</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation"><:</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a><br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">T1</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">S1</span></span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">S2</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T2</span></span> <br>
    <span class="inlinecode">――――――――――――――――――――――</span> F-Fun <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">S1</span></span> <span class="inlinecode">⟶</span> <span class="inlinecode"><span class="id" title="var">S2</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T1</span></span> <span class="inlinecode">⟶</span> <span class="inlinecode"><span class="id" title="var">T2</span></span>  
</div>
<div class="code">
| <a name="st_fun"><span class="id" title="constructor">st_fun</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">G</span> : <a class="idref" href="Definitions.html#env"><span class="id" title="abbreviation">env</span></a>) (<span class="id" title="var">S1</span> <span class="id" title="var">S2</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">⊢</span></a><a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">F</span></a> <a class="idref" href="Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation"><:</span></a> <a class="idref" href="Definitions.html#S1"><span class="id" title="variable">S1</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">⊢</span></a><a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">F</span></a> <a class="idref" href="Definitions.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation"><:</span></a> <a class="idref" href="Definitions.html#T2"><span class="id" title="variable">T2</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">⊢</span></a><a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">F</span></a> <a class="idref" href="Definitions.html#typ_fun"><span class="id" title="constructor">typ_fun</span></a> <a class="idref" href="Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Definitions.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation"><:</span></a> <a class="idref" href="Definitions.html#typ_fun"><span class="id" title="constructor">typ_fun</span></a> <a class="idref" href="Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Definitions.html#T2"><span class="id" title="variable">T2</span></a><br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">T1</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">S1</span></span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">;</span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T1</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">S2</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T2</span></span> <br>
    <span class="inlinecode">―――――――――――――――――――――――――――――――――――――</span> F-All <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode">(∀</span> <span class="inlinecode"><span class="id" title="var">X</span>&lt;:</span> <span class="inlinecode"><span class="id" title="var">S1</span>.</span> <span class="inlinecode"><span class="id" title="var">S2</span>)</span> <span class="inlinecode">&lt;:</span> <span class="inlinecode">(∀</span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T1</span>.</span> <span class="inlinecode"><span class="id" title="var">T2</span>)</span>  
</div>
<div class="code">
| <a name="st_all"><span class="id" title="constructor">st_all</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">L</span> : <span class="id" title="abbreviation">atoms</span>) (<span class="id" title="var">G</span> : <a class="idref" href="Definitions.html#env"><span class="id" title="abbreviation">env</span></a>) (<span class="id" title="var">S1</span> <span class="id" title="var">S2</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">⊢</span></a><a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">F</span></a> <a class="idref" href="Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation"><:</span></a> <a class="idref" href="Definitions.html#S1"><span class="id" title="variable">S1</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <span class="id" title="abbreviation">atom</span>, <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">`</span><span class="id" title="notation">notin</span><span class="id" title="notation">`</span> <a class="idref" href="Definitions.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="notation">[</span><span class="id" title="notation">(</span><a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="Definitions.html#T1"><span class="id" title="variable">T1</span></a><span class="id" title="notation">)</span><span class="id" title="notation">]</span> <span class="id" title="notation">++</span> <a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">⊢</span></a><a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">F</span></a> <span class="id" title="abbreviation">open</span> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Definitions.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation"><:</span></a> <span class="id" title="abbreviation">open</span> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Definitions.html#T2"><span class="id" title="variable">T2</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">⊢</span></a><a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">F</span></a> <a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Definitions.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation"><:</span></a> <a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Definitions.html#T2"><span class="id" title="variable">T2</span></a><br/>
<span class="id" title="keyword">where</span> <a name="240c88fd3125b1e8e1d423a827d1aea7"><span class="id" title="notation">&quot;</span></a>G ⊢F S &lt;⦂ U" := (<a class="idref" href="Definitions.html#subty"><span class="id" title="inductive">subty</span></a> <span class="id" title="var">G</span> <span class="id" title="var">S</span> <span class="id" title="var">U</span>).<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="Definitions.html#subty"><span class="id" title="inductive">subty</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
